= The Trac传票系统 =
[[ZhTracGuideToc]]

传票数据库提拱了简单但有效的项目内对传票和bug的追踪。

作为Trac的中心项目管理元素，传票用来“项目任务”、“特征要求”、“bug报告”和“软件支持”。

像和ZhTracWiki一起运行一样，该子系统是以让用户的贡献和参与尽量简单为目标而设计的。它应该是尽可能简单地报告bug、提问和提改进的建议。

一个传票指定给一个必须解决问题或者将传票再指定给别人的一个人。
所有的传票可以在任何时候进行编辑、评注、指定、设置优先级以及讨论。

== 传票域 ==

一个传票包含以下的信息属性：
 
 * '''报告人''' - 传票的作者。
 * '''类型''' - 传票的本性，例如缺点或改进的要求。
 * '''组件''' - 该传票涉及的项目模式或子系统。
 * '''版本''' - 该传票附属的项目的版本。
 * '''关键字''' - 标记一个传票的关键字。对于搜索和报表生成有用。
 * '''优先级''' - 该传票的重要性，从“无关紧要”到“” 。
 * '''里程碑''' - 该传票应解决的最迟时间。
 * '''指派给/所有者''' - 处理传票的主要负责人。
 * '''Cc''' - 一个其他相关人员的列表。“注意，该列表不暗示任何责任或任何其他政策。”
 * '''决定''' - 为什么传票被关闭的原因。{{{fixed}}}, {{{invalid}}}, {{{wontfix}}}, {{{duplicate}}}, {{{worksforme}}}中的一个。
 * '''状态''' - 目前状态是什么？见{{{new}}}, {{{assigned}}}, {{{closed}}}, {{{reopened}}}
 * '''总结''' - 总结问题或传票的一个简短介绍。
* '''描述''' - 传票的正文。一个号的描述应该是明确的，切入主题的。
“注意：”0.9之前的Trac版本没有“类型”域，但却提供了一个“严重性”域和“优先级”域的不同默认值。该改变通过删掉一些“严重性”和“优先级”之间模糊的差别，而简化了传票模式。然而，旧的模式还是可以用如果你更喜欢它的话，只需要添加或更改“严重性”和“优先级”的默认值，然后通过删除[wiki:ZhTracAdmin trac-admin].中地所有的可能值，隐藏“类型域”。

“注意:”“类型”（传票类型）、“组件”（传票组件），“版本”（传票版本）、“优先级”（传票优先级）和“严重性”（传票严重性域）都可以通过来管理。

== 更改和评论传票 ==

当一个传票加入Trac中是，你可通过“评注”bug来随时更改信息。这意味着该传票的更改
和评论都作为传票本身的一部分记录在内。

查看一个传票时，更改的历史会出现在主要传票区域的下方。

“在Trac项目中，我们使用传票评论来讨论传票和任务。这使得理解在一个设计或执行选项背后的动机更加容易。”

“注意：”一个重要的特征是能够在传票描述和评论中使用Trac链接和ZhWikiFormatting。使用
Trac链接引用其他的传票，changesets或文件，使得你的传票更简单也更易了解。

“注意：” 关于如何配置传票更改的电子邮件通知，请参见ZhTracNotification。

== 下拉字段的默认值 ==

对于各下拉字段的默认选项可以在[wiki:ZhTracIni trac.ini]进行设置，在`[ticket]`节中：

 * `default_component`: 选择的组件的默认名
 * `default_milestone`: 默认里程碑的名字
 * `default_priority`: 默认的优先级值
 * `default_severity`: 默认的严重性值
 * `default_version`: 默认版本的名字

如果省略以上任一选项，默认值可能是列表中的第一个值，或一个空值，取决于该字段是否需要进行设置。

== 隐藏域和添加自定义字段 ==

许多默认传票域可以在传票网络界面上隐藏，只需删除所有可能的值即可。该操作当然也适用于下拉域，例如，



== "指派给"作为下拉菜单 ==

如果可能的传票所有者的列表是有限的，你可以将“指派给”传票域从文字输入改为一个下拉列表，通过将[wiki:ZhTracIni trac.ini]的`[ticket]`节中的`restrict_owner`选项设置为“true”来实现。如果是那样的话，Trac会使用登录的所有用户的列表并设置他们的邮件地址来进入下拉字段。

要出现在下拉列表中，用户需要注册项目，例如，数据库中一定要有用户对话。该项目是用户第一次提交项目更改时数据库自动创建的，例如，在“设置”页中编辑用户的详细信息时。还有，用户必须有`TICKET_MODIFY` [ZhTracPermissions permissions]。

== 为新的传票预设值 ==

要创建一个到充满预设值的新传票的链接，你需要调用`/newticket?`URL和用&分隔的变量值。

可能的变量有：

 * '''类型''' - 类型下拉列表
 * '''报告人''' - 报告人的名字或邮件地址
 * '''总结''' - 传票的总结行
 * '''描述''' - 传票的详细描述
 * '''组件''' - 组件下拉列表
 * '''版本''' - 版本下拉列表
 * '''重要性''' - 重要性下拉列表
 * '''关键字''' - 关键字 
 * '''priority''' - 优先级下拉列表
 * '''milestone''' - 里程碑下拉列表
 * '''owner''' - 负责传票的人
 * '''cc''' - 通知传票更改的邮件列表

'''例子:''' ''/trac/newticket?summary=Compile%20Error&version=1.0&component=gui''

----
相关信息：ZhTracGuide, ZhTracWiki, ZhTracTicketsCustomFields, ZhTracNotification
